---
name: brainstorming
description: "創作作業の前に必ず使うスキル。機能追加・コンポーネント構築・動作変更など、実装を始める前にユーザーの意図・要件・設計を整理する。「ブレインストーミングして」「アイデアを整理して」「設計を考えて」「要件を探ろう」などで発動。"
---

# アイデアを設計に落とし込むブレインストーミング

## 概要

自然な対話を通じて、アイデアを完全に形になった設計・仕様へと昇華させる。

まず現在のプロジェクトの状況を把握し、質問を一問ずつ行ってアイデアを磨いていく。
何を作るかを理解したら、設計を提示してユーザーの承認を得る。

<HARD-GATE>
設計を提示してユーザーが承認するまで、実装スキルの呼び出し・コードの記述・プロジェクトのスキャフォールディング・その他いかなる実装行動も行ってはならない。
これは「シンプルそうに見えるプロジェクト」も含め、すべてのプロジェクトに適用される。
</HARD-GATE>

## アンチパターン：「これは単純すぎて設計不要」

すべてのプロジェクトはこのプロセスを経る。ToDoリストでも、単一関数のユーティリティでも、設定変更でも — すべて例外なく。
「シンプル」なプロジェクトこそ、検討不足の前提が最も多くの無駄な作業を生み出す。
設計は短くていい（本当に単純なプロジェクトなら数文で十分）が、必ず提示して承認を得ること。

## チェックリスト

以下の各項目をタスクとして作成し、順番に完了させること：

1. **プロジェクトのコンテキスト探索** — ファイル・ドキュメント・最近のコミットを確認する
2. **明確化のための質問** — 一問ずつ、目的・制約・完了の定義を理解する
3. **2〜3のアプローチを提案** — トレードオフと推奨案を提示する
4. **設計の提示** — 複雑度に応じてセクション分けして提示し、各セクション後に承認を得る
5. **設計ドキュメントを書く** — `docs/plans/YYYY-MM-DD-<トピック>-design.md` に保存してコミット
6. **実装への移行** — writing-plans スキルを呼び出して実装計画を作成する

## プロセスフロー

```
プロジェクトコンテキスト探索
        ↓
 明確化の質問（一問ずつ）
        ↓
  2〜3のアプローチを提案
        ↓
   設計セクションを提示
        ↓
  ユーザーが設計を承認？
   ↙ No（修正）  ↘ Yes
  設計セクション再提示  設計ドキュメント作成
                    ↓
             実装計画を作成する
```

**終了状態は設計ドキュメントの承認と実装計画の作成である。**
ブレインストーミング中・完了直後にコードの実装を開始してはならない。

## プロセス詳細

**アイデアの理解：**
- まずプロジェクトの現状を確認する（ファイル・ドキュメント・最近のコミット）
- 質問を一問ずつ行ってアイデアを深める
- 可能な限り選択肢を提示する形式を優先するが、自由回答でも構わない
- 1メッセージに質問は1つだけ — あるトピックをさらに掘り下げる必要があれば複数の質問に分割する
- 理解すべきこと: 目的・制約・完了の定義

**アプローチの探索：**
- トレードオフを伴う2〜3の異なるアプローチを提案する
- 推奨案とその理由を会話形式で提示する
- 推奨案を最初に提示し、理由を説明する

**設計の提示：**
- 何を作るか理解できたと判断したら、設計を提示する
- 各セクションを複雑度に応じてスケールする: 単純なら数文、複雑なら200〜300字程度
- 各セクションの提示後に「ここまでで問題ありませんか？」と確認する
- カバーすべき内容: アーキテクチャ・コンポーネント・データフロー・エラーハンドリング・テスト
- 何かおかしいと感じたら、遠慮なく立ち戻って明確化する

## 設計後の作業

**ドキュメント化：**
- 確定した設計を `docs/plans/YYYY-MM-DD-<トピック>-design.md` に書き出す
- 簡潔で明確な文章を心がける
- 設計ドキュメントを git にコミットする

**実装：**
- 詳細な実装計画を作成する

## 主要原則

- **質問は一問ずつ** — 複数の質問で圧倒しない
- **選択肢を優先** — 可能な限り選択肢形式の方が答えやすい
- **YAGNI の徹底** — すべての設計から不必要な機能を排除する
- **代替案の探索** — 方針を決める前に常に2〜3のアプローチを提案する
- **段階的な検証** — 設計を提示し、次に進む前に承認を得る
- **柔軟に対応** — 何かおかしいと感じたら戻って明確化する
