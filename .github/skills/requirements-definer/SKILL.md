---
name: requirements-definer
description: ユーザーとの対話を通じて要件リストを作成し、requirements.json として出力する。「要件定義して」「やりたいことを整理して」「要件をまとめて」「受け入れ条件を定義して」「何を作るか決めたい」などのリクエストで発動する。
metadata:
       version: "1.0"
---

# requirements-definer

ユーザーとの対話を通じて要件リストを作成し、`requirements.json` に出力する。

**このスキルの責務はここまで。** 出力後の計画立案・タスク分解・実行は行わない。

## ワークフロー

### Step 1: 前提を確認する

対象ユーザー、利用シーン、対象範囲をユーザーに質問して確認する。

> **確認例**: 「このアプリは誰が使いますか？個人利用ですか、チーム共有ですか？」

### Step 2: やりたいことを要件に分解する

機能要件と非機能要件に分けて整理する。

**機能要件の例:**

| # | 要件名 | 内容 |
|---|--------|------|
| F-01 | TODO作成 | タイトル・期限・優先度を指定してTODOを登録できる |
| F-02 | ステータス管理 | TODO/進行中/完了の3ステータスを切り替えられる |
| F-03 | 一覧表示 | ステータス・優先度でフィルタリングして一覧表示できる |

**非機能要件の例:**

| # | 要件名 | 内容 |
|---|--------|------|
| N-01 | レスポンス | API応答は95パーセンタイルで500ms以内 |
| N-02 | 可用性 | 月次稼働率99.5%以上 |

### Step 3: スコープを確定する

In/Out を明記してユーザーと合意する。

**スコープ表の例:**

| 機能 | In/Out | 備考 |
|------|--------|------|
| TODO CRUD | In | 基本4操作すべて |
| チーム共有・権限管理 | Out | v2以降で検討 |
| モバイルアプリ | Out | Webのみ対応 |
| メール通知 | Out | 今回は対象外 |

### Step 4: 受け入れ条件を定義する

Given/When/Then 形式で各機能要件に対して定義する。

**受け入れ条件の例 (F-01):**

```
Given: ユーザーがログイン済みである
When:  タイトル「買い物」・期限「2025-03-01」・優先度「高」を入力して送信する
Then:  TODOが一覧に追加され、ステータスが「TODO」で表示される
       AND タイトルが空の場合はバリデーションエラーが表示される
```

### Step 5: requirements.json に出力して終了する

作業ディレクトリのルートに `requirements.json` を保存する。スキーマは [references/requirements-schema.md](references/requirements-schema.md) を参照する。

**出力後はユーザーに完了を通知して終了する。** それ以上の処理（計画立案・タスク分解・実行）は行わない。

```
要件定義が完了しました。requirements.json を出力しました。
```
