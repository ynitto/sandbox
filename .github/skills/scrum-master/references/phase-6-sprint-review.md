# Phase 6: スプリントレビュー & レトロスペクティブ

スプリント内の全タスク完了後（またはユーザーが中断を選択後）、レビュー・フィードバック収集・スキル評価を順に行う。

> **⚠ 委譲必須**: このフェーズの全作業はサブエージェントに委譲すること。スクラムマスター自身がレビュー・フィードバック収集・スキル評価を直接実施してはならない。
> - **Claude Code**: `Task` ツールを呼び出す
> - **GitHub Copilot / VSCode**: `#tool:agent/runSubagent` を呼び出す。自分でレビュー内容を生成してはならない

## 手順

1. **必ず** サブエージェントを起動する（Claude Code: Task ツール / GitHub Copilot: `#tool:agent/runSubagent`）（テンプレート「スプリントレビュー時」を使用）。スクラムマスター自身がレビューを書いてはならない
2. sprint-reviewer が出力したテキストをパースしてプランJSONに格納する:
   - `レビュー:` → sprintsの `review` フィールド（ゴール進捗評価）
   - `進め方レビュー:` → sprintsの `process_review` フィールド
   - `レトロスペクティブ:` → sprintsの `retro` フィールド
   - `次スプリント反映アクション:` → sprintsの `next_sprint_actions` フィールド（配列）
   - `ブロッカー:` → sprintsの `impediments` フィールド（「なし」の場合は空配列）
3. **スキルフィードバック収集**: このスプリントで実行したスキルのフィードバックを一括収集する。
   skill が指定され completed になったタスクからスキル名を重複なく抽出し、**必ず** サブエージェントを起動する（Claude Code: Task ツール / GitHub Copilot: `#tool:agent/runSubagent`）（テンプレート「スキルフィードバック収集時」を使用）。スクラムマスター自身がフィードバックをユーザーに直接質問してはならない

4. **ワークスペーススキルの棚卸し**: **必ず** サブエージェントを起動する（Claude Code: Task ツール / GitHub Copilot: `#tool:agent/runSubagent`）（テンプレート「スキル評価時」を使用）。スクラムマスター自身がスキル評価を実施してはならない

5. **スキル発見**: 今スプリントで新しいスキルが作成された場合に提案する:
   ```
   最近のチャット履歴から新しいスキル候補を発見できるかもしれません。
   git-skill-manager discover を実行しますか？ [y/N]
   ```
   - 「はい」: **必ず** サブエージェントを起動する（Claude Code: Task ツール / GitHub Copilot: `#tool:agent/runSubagent`）（テンプレート「スキル発見時」を使用）。スクラムマスター自身がチャット履歴を分析してスキル候補を提案してはならない
   - 結果をreviewフィールドに追記する
