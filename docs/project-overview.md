# Agent Skills — プロジェクト概要

> **テーマ：組織におけるスキル共有と継続的な改善**
> 発表時間：約5分

---

## 1. このプロジェクトが解決する課題

AIエージェント（GitHub Copilot / Claude Code）は強力だが、そのまま使うと **「汎用的すぎて組織固有のノウハウが活かせない」** という問題がある。

| よくある状況 | 問題点 |
|---|---|
| チームメンバーがプロンプトを工夫してうまくいった | 他のメンバーに共有されない |
| ベストプラクティスをドキュメントにまとめた | エージェントが参照してくれない |
| AIに複雑なタスクを頼んだら迷走した | 再現性がなく、失敗の原因もわからない |

**Agent Skills は「AIエージェントの能力そのもの」をチームで共有・改善するための仕組み。**

---

## 2. プロジェクト概要

```
┌────────────────────────────────────────────────────────────────┐
│                        Agent Skills                            │
│                                                                │
│  AIエージェントに「スキル」という形でノウハウを注入し、          │
│  チーム全体でそのスキルを共有・育て続けるフレームワーク          │
│                                                                │
│  対応エージェント:  GitHub Copilot  /  Claude Code             │
│  スキル数:          24（コアスキル9 + ドメイン固有スキル15）     │
│  Python スクリプト: 30本                                       │
└────────────────────────────────────────────────────────────────┘
```

### スキルとは

SKILL.md ファイルに「目的・手順・出力形式」を記述したもの。エージェントはこれを読んで一貫した振る舞いをする。

```
~/.copilot/skills/
  react-frontend-coder/
    SKILL.md          ← エージェントへの指示書（Markdown）
    scripts/          ← 補助スクリプト（Python）
    references/       ← 参考ドキュメント
    assets/           ← テンプレート・リソース
```

---

## 3. 設計思想

### 「知識を個人の頭から、組織のリポジトリへ」

```
従来:  優秀なメンバーのノウハウ → 属人化 → 退職で消える

本プロジェクト:
  現場での試行錯誤
      ↓
  スキルとして言語化（SKILL.md）
      ↓
  フィードバックで検証（ok / needs-improvement / broken）
      ↓
  中央リポジトリへ昇格（PR → レビュー → マージ）
      ↓
  チーム全体のAIエージェントが活用
```

### 3つの原則

| 原則 | 内容 |
|---|---|
| **気軽に貢献** | スキルは「完成していなくても」共有できる。PRを出すだけ |
| **安全に更新** | pull前にスナップショット自動保存。1コマンドでロールバック可能 |
| **実績で評価** | 「使われた回数」「ok率」という定量データを昇格の根拠にする |

---

## 4. 設計のポイント

### 4-1. スクラムマスタースキル — 複雑なタスクの構造化実行

AIへの曖昧な依頼を「7フェーズのスプリント」に変換して実行する。

```
ユーザー: "React + TypeScript でダッシュボードを作って。テストとデプロイ設定も"
    ↓
【Phase 1】スキル探索    — 使えるスキルを自動発見
【Phase 2】要件定義      — requirements-definer で要件を明確化
【Phase 3】スキルギャップ解消 — 不足スキルがあれば skill-creator で補完
【Phase 4】スプリント計画 — タスク分解と優先順位付け
【Phase 5】タスク実行    — サブエージェントに並列委譲
【Phase 6】スプリントレビュー — 品質確認とフィードバック収集
【Phase 7】進捗レポート  — 次スプリントへの引き継ぎ
```

**ポイント：** エージェントが迷走しないよう、各フェーズの入出力を厳密に定義。

---

### 4-2. ノードフェデレーション — ローカル改善を組織へ還元

```
中央リポジトリ（信頼された知識の集積）
    ↓ pull（自動スナップショット → ロールバック可能）
ノード（各メンバーのローカル環境）
    ├─ ローカルで試用・改善・評価
    ├─ フィードバック蓄積（ok率 > 中央の平均 → 改善効果を定量証明）
    └─ 条件が揃ったら PR を出して中央に貢献
中央リポジトリ（ノード貢献のレビュー・統合）
```

**昇格の自動判定（promotion_policy）:**
```
✓ ok_count >= 3
✓ 問題率 <= 10%
✓ ローカルで改善済み（version_ahead: true）
→ 「このスキル、中央にあげませんか？」と通知
```

---

### 4-3. フィードバックループ — 使うほど賢くなる仕組み

```
スキル実行後に3択でフィードバックを記録:
  ok               → 成功カウント +1
  needs-improvement → 改善候補フラグ → skill-evaluator が改善案を提案
  broken           → アラート → 即座に修正フローが走る

記録されるメトリクス:
  total_executions, ok_rate, avg_feedback_note_length,
  last_executed_at, central_ok_rate（中央平均との比較）
```

**ポイント：** 「なんとなくいい感じ」ではなく、数値で改善を証明できる。

---

### 4-4. スキルの多層構造 — コアとドメインの分離

```
コアスキル（9つ、常時ロード）
  scrum-master / git-skill-manager / skill-creator /
  requirements-definer / skill-recruiter / skill-evaluator /
  generating-skills-from-copilot-logs / sprint-reviewer /
  codebase-to-skill

ドメイン固有スキル（15、必要に応じてインストール）
  react-frontend-coder   — React + TypeScript 実装
  api-designer           — REST/GraphQL API設計
  domain-modeler         — DDDドメインモデル設計
  dynamodb-designer      — DynamoDB設計
  ci-cd-configurator     — GitHub Actions設定
  code-reviewer          — コードレビュー
  ...など
```

**ポイント：** 組織ごとに必要なスキルセットを「プロファイル」として定義して配布できる。

---

## 5. 今後の課題

設計は整っているが、一部は **まだ実装中または未実装**。

| 課題 | 現状 | 優先度 |
|---|---|---|
| **ノードフェデレーションの完全実装** | 設計完了・実装中（delta_tracker, node_identity等） | 高 |
| **スキルのセマンティックバージョニング** | 設計完了・未実装 | 高 |
| **メトリクス収集の自動化** | フィードバック記録は動作・集計基盤は未実装 | 中 |
| **スキルのコンフリクト解消** | 同名スキルが複数リポジトリにある場合の動作が未定 | 中 |
| **スキルの依存関係管理** | スキル間の依存宣言・解決の仕組みがない | 中 |
| **Webベースの管理UI** | 現状CLIのみ。可視化・ダッシュボードがない | 低 |
| **スキルのA/Bテスト** | 複数バージョンを並走させて比較する仕組みがない | 低 |

---

## 6. まとめ

```
Agent Skills が目指すもの:

  個人のノウハウ → スキルとして言語化
  スキル → フィードバックで磨く
  磨かれたスキル → チーム全体のAIエージェントに展開

  結果: 「組織の学習速度 = AIエージェントの改善速度」になる
```

**AIを使いこなすノウハウは、コードと同じようにバージョン管理・レビュー・共有できる。**
これが Agent Skills の根本にある考え方。

---

*リポジトリ: `ynitto/sandbox` / 主要言語: Markdown (SKILL.md) + Python*
